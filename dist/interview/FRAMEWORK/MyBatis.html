<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.51" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-docs-demo.netlify.app/interview/FRAMEWORK/MyBatis.html"><meta property="og:site_name" content="Magic.*"><meta property="og:title" content="Mybatis"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-10-02T11:11:09.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:published_time" content="2022-10-02T18:50:29.000Z"><meta property="article:modified_time" content="2022-10-02T11:11:09.000Z"><title>Mybatis | Magic.*</title><meta name="description" content="vuepress-theme-hope çš„æ–‡æ¡£æ¼”ç¤º">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.e1db1067.css">
    <link rel="modulepreload" href="/assets/app.c4e9f175.js"><link rel="modulepreload" href="/assets/MyBatis.html.9c2c038a.js"><link rel="modulepreload" href="/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/assets/MyBatis.html.3bf1799b.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="Magic.*"><!----><span class="site-name hide-in-pad">Magic.*</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="ä¸»é¡µ"><span class="icon iconfont icon-home"></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="é¢å‘ç®€å†ç¼–ç¨‹"><span class="title"><span class="icon iconfont icon-discover"></span>é¢å‘ç®€å†ç¼–ç¨‹</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JAVA</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/JAVA/java.html" class="nav-link" aria-label="JAVAåŸºç¡€"><!---->JAVAåŸºç¡€<!----></a></li><li class="dropdown-subitem"><a href="/interview/JAVA/juc.html" class="nav-link" aria-label="JUCç¼–ç¨‹"><!---->JUCç¼–ç¨‹<!----></a></li><li class="dropdown-subitem"><a href="/interview/JAVA/jvm.html" class="nav-link" aria-label="JVMåŸºç¡€"><!---->JVMåŸºç¡€<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ•°æ®åº“</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/DB/MySQL.html" class="nav-link" aria-label="MySQL"><!---->MySQL<!----></a></li><li class="dropdown-subitem"><a href="/interview/DB/Redis.html" class="nav-link" aria-label="Redis"><!---->Redis<!----></a></li><li class="dropdown-subitem"><a href="/interview/DB/MongoDB.html" class="nav-link" aria-label="MongoDB"><!---->MongoDB<!----></a></li><li class="dropdown-subitem"><a href="/interview/DB/Elasticsearch.html" class="nav-link" aria-label="Elasticsearch"><!---->Elasticsearch<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ¡†æ¶</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/FRAMEWORK/Spring.html" class="nav-link" aria-label="Spring"><!---->Spring<!----></a></li><li class="dropdown-subitem"><a href="/interview/FRAMEWORK/SpringMVC.html" class="nav-link" aria-label="SpringMVC"><!---->SpringMVC<!----></a></li><li class="dropdown-subitem"><a href="/interview/FRAMEWORK/SpringBoot.html" class="nav-link" aria-label="SpringBoot"><!---->SpringBoot<!----></a></li><li class="dropdown-subitem"><a href="/interview/FRAMEWORK/SpringCloud.html" class="nav-link" aria-label="SpringCloud"><!---->SpringCloud<!----></a></li><li class="dropdown-subitem"><a aria-current="page" href="/interview/FRAMEWORK/MyBatis.html" class="router-link-active router-link-exact-active nav-link active" aria-label="MyBatis"><!---->MyBatis<!----></a></li><li class="dropdown-subitem"><a href="/interview/FRAMEWORK/Dubbo.html" class="nav-link" aria-label="Dubbo"><!---->Dubbo<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ä¸­é—´ä»¶</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/MIDDLEWARE/MQ_BASE.html" class="nav-link" aria-label="æ¶ˆæ¯é˜Ÿåˆ—åŸºç¡€"><!---->æ¶ˆæ¯é˜Ÿåˆ—åŸºç¡€<!----></a></li><li class="dropdown-subitem"><a href="/interview/MIDDLEWARE/RabbitMQ.html" class="nav-link" aria-label="RabbitMQ"><!---->RabbitMQ<!----></a></li><li class="dropdown-subitem"><a href="/interview/MIDDLEWARE/RocketMQ.html" class="nav-link" aria-label="RocketMQ"><!---->RocketMQ<!----></a></li><li class="dropdown-subitem"><a href="/interview/MIDDLEWARE/Kafaka.html" class="nav-link" aria-label="Kafaka"><!---->Kafaka<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ä¼˜åŒ–</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/OPTIMIZE/SQL_OPT.html" class="nav-link" aria-label="SQLä¼˜åŒ–"><!---->SQLä¼˜åŒ–<!----></a></li><li class="dropdown-subitem"><a href="/interview/OPTIMIZE/CODE_OPT.html" class="nav-link" aria-label="ä»£ç ä¼˜åŒ–"><!---->ä»£ç ä¼˜åŒ–<!----></a></li><li class="dropdown-subitem"><a href="/interview/OPTIMIZE/JVM_OPT.html" class="nav-link" aria-label="JVMä¼˜åŒ–"><!---->JVMä¼˜åŒ–<!----></a></li><li class="dropdown-subitem"><a href="/interview/OPTIMIZE/TOMCAT_OPT.html" class="nav-link" aria-label="TOMCATä¼˜åŒ–"><!---->TOMCATä¼˜åŒ–<!----></a></li><li class="dropdown-subitem"><a href="/interview/OPTIMIZE/DATABASE_OPT.html" class="nav-link" aria-label="æ•°æ®åº“ä¼˜åŒ–"><!---->æ•°æ®åº“ä¼˜åŒ–<!----></a></li><li class="dropdown-subitem"><a href="/interview/OPTIMIZE/INTERFACE_OPT.html" class="nav-link" aria-label="æ¥å£æ€§èƒ½ä¼˜åŒ–"><!---->æ¥å£æ€§èƒ½ä¼˜åŒ–<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ•°æ®åº“"><span class="title"><span class="icon iconfont icon-creative"></span>æ•°æ®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Bar</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/bar/baz" class="nav-link" aria-label="/db/bar/baz"><!---->/db/bar/baz<!----></a></li><li class="dropdown-subitem"><a href="/db/bar/" class="nav-link" aria-label="..."><!---->...<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Foo</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/foo/ray" class="nav-link" aria-label="/db/foo/ray"><!---->/db/foo/ray<!----></a></li><li class="dropdown-subitem"><a href="/db/foo/" class="nav-link" aria-label="..."><span class="icon iconfont icon-more"></span>...<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="åˆ†å¸ƒå¼"><span class="title"><span class="icon iconfont icon-creative"></span>åˆ†å¸ƒå¼</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Bar</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/distributed/bar/baz" class="nav-link" aria-label="/distributed/bar/baz"><!---->/distributed/bar/baz<!----></a></li><li class="dropdown-subitem"><a href="/distributed/bar/" class="nav-link" aria-label="..."><!---->...<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Foo</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/distributed/foo/ray" class="nav-link" aria-label="/distributed/foo/ray"><!---->/distributed/foo/ray<!----></a></li><li class="dropdown-subitem"><a href="/distributed/foo/" class="nav-link" aria-label="..."><span class="icon iconfont icon-more"></span>...<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æºç è§£æ"><span class="title"><span class="icon iconfont icon-creative"></span>æºç è§£æ</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Bar</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/sourcecode/bar/baz" class="nav-link" aria-label="/sourcecode/bar/baz"><!---->/sourcecode/bar/baz<!----></a></li><li class="dropdown-subitem"><a href="/sourcecode/bar/" class="nav-link" aria-label="..."><!---->...<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Foo</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/sourcecode/foo/ray" class="nav-link" aria-label="/sourcecode/foo/ray"><!---->/sourcecode/foo/ray<!----></a></li><li class="dropdown-subitem"><a href="/sourcecode/foo/" class="nav-link" aria-label="..."><span class="icon iconfont icon-more"></span>...<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å°æŠ€å·§"><span class="title"><span class="icon iconfont icon-creative"></span>å°æŠ€å·§</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Bar</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/guide/bar/baz.html" class="nav-link" aria-label="Baz"><span class="icon iconfont icon-info"></span>Baz<!----></a></li><li class="dropdown-subitem"><a href="/guide/bar/" class="nav-link" aria-label="..."><span class="icon iconfont icon-more"></span>...<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Foo</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/guide/foo/ray.html" class="nav-link" aria-label="Ray"><span class="icon iconfont icon-config"></span>Ray<!----></a></li><li class="dropdown-subitem"><a href="/guide/foo/" class="nav-link" aria-label="..."><span class="icon iconfont icon-more"></span>...<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ”¶è—å¤¹"><span class="title"><span class="icon iconfont icon-creative"></span>æ”¶è—å¤¹</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Bar</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/guide/bar/baz.html" class="nav-link" aria-label="Baz"><span class="icon iconfont icon-info"></span>Baz<!----></a></li><li class="dropdown-subitem"><a href="/guide/bar/" class="nav-link" aria-label="..."><span class="icon iconfont icon-more"></span>...<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Foo</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/guide/foo/ray.html" class="nav-link" aria-label="Ray"><span class="icon iconfont icon-config"></span>Ray<!----></a></li><li class="dropdown-subitem"><a href="/guide/foo/" class="nav-link" aria-label="..."><span class="icon iconfont icon-more"></span>...<!----></a></li></ul></li></ul></button></div></div></nav><!----></div><div class="navbar-right"><!----><!----><!----><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!----><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Java</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">æ•°æ®åº“</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">æ¡†æ¶</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/interview/FRAMEWORK/Spring.html" class="nav-link sidebar-link sidebar-page" aria-label="Spring"><!---->Spring<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/interview/FRAMEWORK/SpringMVC.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringMVC"><!---->SpringMVC<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/interview/FRAMEWORK/SpringBoot.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringBoot"><!---->SpringBoot<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/interview/FRAMEWORK/SpringCloud.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringCloud"><!---->SpringCloud<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/interview/FRAMEWORK/MyBatis.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="MyBatis"><!---->MyBatis<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/interview/FRAMEWORK/MyBatis.html#_1-ç²¾é€‰mybatisé¢è¯•é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. ç²¾é€‰MyBatisé¢è¯•é¢˜"><!---->1. ç²¾é€‰MyBatisé¢è¯•é¢˜<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/interview/FRAMEWORK/Dubbo.html" class="nav-link sidebar-link sidebar-page" aria-label="Dubbo"><!---->Dubbo<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">ä¸­é—´ä»¶</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">ä¼˜åŒ–</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Mybatis</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://mrhope.site" target="_blank" rel="noopener noreferrer">Mr.yue</a></span><span property="author" content="Mr.yue"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´10æœˆ3æ—¥</span><meta property="datePublished" content="2022-10-02T18:50:29.000Z"></span><!----><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 15 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT15M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/interview/FRAMEWORK/MyBatis.html#_1-ç²¾é€‰mybatisé¢è¯•é¢˜" class="router-link-active router-link-exact-active toc-link level3">1. ç²¾é€‰MyBatisé¢è¯•é¢˜</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h3 id="_1-ç²¾é€‰mybatisé¢è¯•é¢˜" tabindex="-1"><a class="header-anchor" href="#_1-ç²¾é€‰mybatisé¢è¯•é¢˜" aria-hidden="true">#</a> 1. ç²¾é€‰MyBatisé¢è¯•é¢˜</h3><h4 id="ä»€ä¹ˆæ˜¯mybatis" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯mybatis" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯MyBatisï¼Ÿ</h4><ol><li><p>MyBatisæ˜¯ä¸€ä¸ªåŠORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ¡†æ¶ï¼Œå®ƒå†…éƒ¨å°è£…äº†JDBCï¼ŒåŠ è½½é©±åŠ¨ã€åˆ›å»ºè¿æ¥ã€åˆ›å»ºstatementç­‰ç¹æ‚çš„è¿‡ç¨‹ï¼Œå¼€å‘è€…å¼€å‘æ—¶åªéœ€è¦å…³æ³¨å¦‚ä½•ç¼–å†™SQLè¯­å¥ï¼Œå¯ä»¥ä¸¥æ ¼æ§åˆ¶sqlæ‰§è¡Œæ€§èƒ½ï¼Œçµæ´»åº¦é«˜ã€‚</p></li><li><p>ä½œä¸ºä¸€ä¸ªåŠORMæ¡†æ¶ï¼ŒMyBatis å¯ä»¥ä½¿ç”¨ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸç”Ÿä¿¡æ¯ï¼Œå°† POJOæ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ï¼Œé¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†ã€‚</p><blockquote><p>ç§°MyBatisæ˜¯åŠè‡ªåŠ¨ORMæ˜ å°„å·¥å…·ï¼Œæ˜¯å› ä¸ºåœ¨æŸ¥è¯¢å…³è”å¯¹è±¡æˆ–å…³è”é›†åˆå¯¹è±¡æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨ç¼–å†™sqlæ¥å®Œæˆã€‚ä¸åƒHibernateè¿™ç§å…¨è‡ªåŠ¨ORMæ˜ å°„å·¥å…·ï¼ŒHibernateæŸ¥è¯¢å…³è”å¯¹è±¡æˆ–è€…å…³è”é›†åˆå¯¹è±¡æ—¶ï¼Œå¯ä»¥æ ¹æ®å¯¹è±¡å…³ç³»æ¨¡å‹ç›´æ¥è·å–ã€‚</p></blockquote></li><li><p>é€šè¿‡xml æ–‡ä»¶æˆ–æ³¨è§£çš„æ–¹å¼å°†è¦æ‰§è¡Œçš„å„ç§ statement é…ç½®èµ·æ¥ï¼Œå¹¶é€šè¿‡javaå¯¹è±¡å’Œ statementä¸­sqlçš„åŠ¨æ€å‚æ•°è¿›è¡Œæ˜ å°„ç”Ÿæˆæœ€ç»ˆæ‰§è¡Œçš„sqlè¯­å¥ï¼Œæœ€åç”±mybatisæ¡†æ¶æ‰§è¡Œsqlå¹¶å°†ç»“æœæ˜ å°„ä¸ºjavaå¯¹è±¡å¹¶è¿”å›ã€‚ï¼ˆä»æ‰§è¡Œsqlåˆ°è¿”å›resultçš„è¿‡ç¨‹ï¼‰ã€‚</p></li><li><p>ç”±äºMyBatisä¸“æ³¨äºSQLæœ¬èº«ï¼Œçµæ´»åº¦é«˜ï¼Œæ‰€ä»¥æ¯”è¾ƒé€‚åˆå¯¹æ€§èƒ½çš„è¦æ±‚å¾ˆé«˜ï¼Œæˆ–è€…éœ€æ±‚å˜åŒ–è¾ƒå¤šçš„é¡¹ç›®ï¼Œå¦‚äº’è”ç½‘é¡¹ç›®ã€‚</p></li></ol><h4 id="mybaitsçš„ä¼˜ç¼ºç‚¹" tabindex="-1"><a class="header-anchor" href="#mybaitsçš„ä¼˜ç¼ºç‚¹" aria-hidden="true">#</a> MyBaitsçš„ä¼˜ç¼ºç‚¹?</h4><ul><li>ä¼˜ç‚¹ï¼š <ul><li>åŸºäºSQLè¯­å¥ç¼–ç¨‹ï¼Œç›¸å½“çµæ´»ï¼Œä¸ä¼šå¯¹åº”ç”¨ç¨‹åºæˆ–è€…æ•°æ®åº“çš„ç°æœ‰è®¾è®¡é€ æˆä»»ä½•å½±å“ï¼ŒSQLå†™åœ¨XMLé‡Œï¼Œè§£é™¤sqlä¸ç¨‹åºä»£ç çš„è€¦åˆï¼Œä¾¿äºç»Ÿä¸€ç®¡ç†ï¼›æä¾›XMLæ ‡ç­¾ï¼Œæ”¯æŒç¼–å†™åŠ¨æ€SQLè¯­å¥ï¼Œå¹¶å¯é‡ç”¨ã€‚</li><li>ä¸JDBCç›¸æ¯”ï¼Œå‡å°‘äº†50%ä»¥ä¸Šçš„ä»£ç é‡ï¼Œæ¶ˆé™¤äº†JDBCå¤§é‡å†—ä½™çš„ä»£ç ï¼Œä¸éœ€è¦æ‰‹åŠ¨å¼€å…³è¿æ¥ï¼›</li><li>å¾ˆå¥½çš„ä¸å„ç§æ•°æ®åº“å…¼å®¹ï¼ˆå› ä¸ºMyBatisä½¿ç”¨JDBCæ¥è¿æ¥æ•°æ®åº“ï¼Œæ‰€ä»¥åªè¦JDBCæ”¯æŒçš„æ•°æ®åº“MyBatiséƒ½æ”¯æŒï¼‰ã€‚</li><li>èƒ½å¤Ÿä¸Springå¾ˆå¥½çš„é›†æˆï¼›</li><li>æä¾›æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡ä¸æ•°æ®åº“çš„ORMå­—æ®µå…³ç³»æ˜ å°„ï¼›æä¾›å¯¹è±¡å…³ç³»æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡å…³ç³»ç»„ä»¶ç»´æŠ¤ã€‚</li></ul></li><li>ç¼ºç‚¹ï¼š <ul><li>SQLè¯­å¥çš„ç¼–å†™å·¥ä½œé‡è¾ƒå¤§ï¼Œå°¤å…¶å½“å­—æ®µå¤šã€å…³è”è¡¨å¤šæ—¶ï¼Œå¯¹å¼€å‘äººå‘˜ç¼–å†™SQLè¯­å¥çš„åŠŸåº•æœ‰ä¸€å®šè¦æ±‚ã€‚</li><li>SQLè¯­å¥ä¾èµ–äºæ•°æ®åº“ï¼Œå¯¼è‡´æ•°æ®åº“ç§»æ¤æ€§å·®ï¼Œä¸èƒ½éšæ„æ›´æ¢æ•°æ®åº“ã€‚</li></ul></li></ul><h4 id="é€šå¸¸ä¸€ä¸ªmapper-xmlæ–‡ä»¶-éƒ½ä¼šå¯¹åº”ä¸€ä¸ªdaoæ¥å£-è¿™ä¸ªdaoæ¥å£çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆ-daoæ¥å£é‡Œçš„æ–¹æ³•-å‚æ•°ä¸åŒæ—¶-æ–¹æ³•èƒ½é‡è½½å—" tabindex="-1"><a class="header-anchor" href="#é€šå¸¸ä¸€ä¸ªmapper-xmlæ–‡ä»¶-éƒ½ä¼šå¯¹åº”ä¸€ä¸ªdaoæ¥å£-è¿™ä¸ªdaoæ¥å£çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆ-daoæ¥å£é‡Œçš„æ–¹æ³•-å‚æ•°ä¸åŒæ—¶-æ–¹æ³•èƒ½é‡è½½å—" aria-hidden="true">#</a> é€šå¸¸ä¸€ä¸ªmapper.xmlæ–‡ä»¶ï¼Œéƒ½ä¼šå¯¹åº”ä¸€ä¸ªDaoæ¥å£ï¼Œè¿™ä¸ªDaoæ¥å£çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼ŸDaoæ¥å£é‡Œçš„æ–¹æ³•ï¼Œå‚æ•°ä¸åŒæ—¶ï¼Œæ–¹æ³•èƒ½é‡è½½å—ï¼Ÿ</h4><p>Mapper æ¥å£çš„å·¥ä½œåŸç†æ˜¯JDKåŠ¨æ€ä»£ç†ï¼ŒMyBatisè¿è¡Œæ—¶ä¼šä½¿ç”¨JDKåŠ¨æ€ä»£ç†ä¸ºMapperæ¥å£ç”Ÿæˆä»£ç†å¯¹è±¡proxyï¼Œä»£ç†å¯¹è±¡ä¼šæ‹¦æˆªæ¥å£æ–¹æ³•ï¼Œæ ¹æ®ç±»çš„å…¨é™å®šå+æ–¹æ³•åï¼Œå”¯ä¸€å®šä½åˆ°ä¸€ä¸ªMapperStatementå¹¶è°ƒç”¨æ‰§è¡Œå™¨æ‰§è¡Œæ‰€ä»£è¡¨çš„sqlï¼Œç„¶åå°†sqlæ‰§è¡Œç»“æœè¿”å›ã€‚</p><p>Mapperæ¥å£é‡Œçš„æ–¹æ³•ï¼Œæ˜¯ä¸èƒ½é‡è½½çš„ï¼Œå› ä¸ºæ˜¯ä½¿ç”¨ å…¨é™å+æ–¹æ³•å çš„ä¿å­˜å’Œå¯»æ‰¾ç­–ç•¥ã€‚</p><blockquote><p>Daoæ¥å£å³Mapperæ¥å£ã€‚æ¥å£çš„å…¨é™åï¼Œå°±æ˜¯æ˜ å°„æ–‡ä»¶ä¸­çš„namespaceçš„å€¼ï¼›æ¥å£çš„æ–¹æ³•åï¼Œå°±æ˜¯æ˜ å°„æ–‡ä»¶ä¸­Mapperçš„Statementçš„idå€¼ï¼›æ¥å£æ–¹æ³•å†…çš„å‚æ•°ï¼Œå°±æ˜¯ä¼ é€’ç»™sqlçš„å‚æ•°ã€‚</p></blockquote><p>date: 2022-10-02 18:50:29</p><blockquote><p>ä¸¾ä¾‹ï¼šcom.mybatis3.mappers.StudentDao.findStudentByIdï¼Œå¯ä»¥å”¯ä¸€æ‰¾åˆ°namespaceä¸ºcom.mybatis3.mappers.StudentDaoä¸‹é¢ id ä¸º findStudentById çš„ MapperStatement</p></blockquote><h4 id="mybatisçš„xmlæ˜ å°„æ–‡ä»¶ä¸­-ä¸åŒçš„xmlæ˜ å°„æ–‡ä»¶-idæ˜¯å¦å¯ä»¥é‡å¤" tabindex="-1"><a class="header-anchor" href="#mybatisçš„xmlæ˜ å°„æ–‡ä»¶ä¸­-ä¸åŒçš„xmlæ˜ å°„æ–‡ä»¶-idæ˜¯å¦å¯ä»¥é‡å¤" aria-hidden="true">#</a> MyBatisçš„Xmlæ˜ å°„æ–‡ä»¶ä¸­ï¼Œä¸åŒçš„Xmlæ˜ å°„æ–‡ä»¶ï¼Œidæ˜¯å¦å¯ä»¥é‡å¤ï¼Ÿ</h4><p>ä¸åŒçš„Xmlæ˜ å°„æ–‡ä»¶ï¼Œå¦‚æœé…ç½®äº†namespaceï¼Œé‚£ä¹ˆidå¯ä»¥é‡å¤ï¼›å¦‚æœæ²¡æœ‰é…ç½®namespaceï¼Œé‚£ä¹ˆidä¸èƒ½é‡å¤ï¼›</p><p>åŸå› å°±æ˜¯namespace+idæ˜¯ä½œä¸ºMap&lt;String, MapperStatement&gt;çš„keyä½¿ç”¨çš„ï¼Œå¦‚æœæ²¡æœ‰namespaceï¼Œå°±å‰©ä¸‹idï¼Œé‚£ä¹ˆï¼Œidé‡å¤ä¼šå¯¼è‡´æ•°æ®äº’ç›¸è¦†ç›–ã€‚æœ‰äº†namespaceï¼Œè‡ªç„¶idå°±å¯ä»¥é‡å¤ï¼Œnamespaceä¸åŒï¼Œnamespace+idè‡ªç„¶ä¹Ÿå°±ä¸åŒã€‚</p><p>å¤‡æ³¨ï¼šåœ¨æ—§ç‰ˆæœ¬çš„MyBatisä¸­ï¼Œnamespaceæ˜¯å¯é€‰çš„ï¼Œä¸è¿‡æ–°ç‰ˆæœ¬çš„namespaceå·²ç»æ˜¯å¿…é¡»çš„äº†ã€‚</p><h4 id="mybatisæ˜¯å¦‚ä½•è¿›è¡Œåˆ†é¡µçš„-åˆ†é¡µæ’ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#mybatisæ˜¯å¦‚ä½•è¿›è¡Œåˆ†é¡µçš„-åˆ†é¡µæ’ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> MyBatisæ˜¯å¦‚ä½•è¿›è¡Œåˆ†é¡µçš„ï¼Ÿåˆ†é¡µæ’ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>MyBatisä½¿ç”¨RowBoundså¯¹è±¡è¿›è¡Œåˆ†é¡µï¼Œå®ƒæ˜¯é’ˆå¯¹ResultSetç»“æœé›†æ‰§è¡Œçš„å†…å­˜åˆ†é¡µï¼Œè€Œéç‰©ç†åˆ†é¡µã€‚å¯ä»¥åœ¨sqlå†…ç›´æ¥ä¹¦å†™å¸¦æœ‰ç‰©ç†åˆ†é¡µçš„å‚æ•°æ¥å®Œæˆç‰©ç†åˆ†é¡µåŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åˆ†é¡µæ’ä»¶æ¥å®Œæˆç‰©ç†åˆ†é¡µã€‚</p><p>åˆ†é¡µæ’ä»¶çš„åŸºæœ¬åŸç†æ˜¯ä½¿ç”¨MyBatisæä¾›çš„æ’ä»¶æ¥å£ï¼Œå®ç°è‡ªå®šä¹‰æ’ä»¶ï¼Œåœ¨æ’ä»¶çš„æ‹¦æˆªæ–¹æ³•å†…æ‹¦æˆªå¾…æ‰§è¡Œçš„sqlï¼Œç„¶åé‡å†™sqlï¼Œæ ¹æ®dialectæ–¹è¨€ï¼Œæ·»åŠ å¯¹åº”çš„ç‰©ç†åˆ†é¡µè¯­å¥å’Œç‰©ç†åˆ†é¡µå‚æ•°ã€‚</p><h4 id="ç®€è¿°mybatisçš„æ’ä»¶è¿è¡ŒåŸç†-ä»¥åŠå¦‚ä½•ç¼–å†™ä¸€ä¸ªæ’ä»¶" tabindex="-1"><a class="header-anchor" href="#ç®€è¿°mybatisçš„æ’ä»¶è¿è¡ŒåŸç†-ä»¥åŠå¦‚ä½•ç¼–å†™ä¸€ä¸ªæ’ä»¶" aria-hidden="true">#</a> ç®€è¿°MyBatisçš„æ’ä»¶è¿è¡ŒåŸç†ï¼Ÿä»¥åŠå¦‚ä½•ç¼–å†™ä¸€ä¸ªæ’ä»¶ï¼Ÿ</h4><p>MyBatisä»…å¯ä»¥ç¼–å†™é’ˆå¯¹ParameterHandlerã€ResultSetHandlerã€StatementHandlerã€Executorè¿™4ç§æ¥å£çš„æ’ä»¶ï¼ŒMyBatisä½¿ç”¨JDKçš„åŠ¨æ€ä»£ç†ï¼Œä¸ºéœ€è¦æ‹¦æˆªçš„æ¥å£ç”Ÿæˆä»£ç†å¯¹è±¡ä»¥å®ç°æ¥å£æ–¹æ³•æ‹¦æˆªåŠŸèƒ½ï¼Œæ¯å½“æ‰§è¡Œè¿™4ç§æ¥å£å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼Œå°±ä¼šè¿›å…¥æ‹¦æˆªæ–¹æ³•ï¼Œå…·ä½“å°±æ˜¯InvocationHandlerçš„invoke()æ–¹æ³•ï¼Œå½“ç„¶ï¼Œåªä¼šæ‹¦æˆªé‚£äº›ä½ æŒ‡å®šéœ€è¦æ‹¦æˆªçš„æ–¹æ³•ã€‚</p><p>ç¼–å†™æ’ä»¶ï¼šå®ç°MyBatisçš„Interceptoræ¥å£å¹¶å¤å†™intercept()æ–¹æ³•ï¼Œç„¶åå†ç»™æ’ä»¶ç¼–å†™æ³¨è§£ï¼ŒæŒ‡å®šè¦æ‹¦æˆªå“ªä¸€ä¸ªæ¥å£çš„å“ªäº›æ–¹æ³•å³å¯ï¼Œæœ€ååœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®ä½ ç¼–å†™çš„æ’ä»¶ã€‚</p><h4 id="mybatisæ˜¯å¦æ”¯æŒå»¶è¿ŸåŠ è½½-å¦‚æœæ”¯æŒ-å®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#mybatisæ˜¯å¦æ”¯æŒå»¶è¿ŸåŠ è½½-å¦‚æœæ”¯æŒ-å®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> MyBatisæ˜¯å¦æ”¯æŒå»¶è¿ŸåŠ è½½ï¼Ÿå¦‚æœæ”¯æŒï¼Œå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>MyBatisä»…æ”¯æŒassociationå…³è”å¯¹è±¡å’Œcollectionå…³è”é›†åˆå¯¹è±¡çš„å»¶è¿ŸåŠ è½½ï¼ŒassociationæŒ‡çš„å°±æ˜¯ä¸€å¯¹ä¸€ï¼ŒcollectionæŒ‡çš„å°±æ˜¯ä¸€å¯¹å¤šæŸ¥è¯¢ã€‚åœ¨Mybatisé…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥é…ç½®æ˜¯å¦å¯ç”¨å»¶è¿ŸåŠ è½½lazyLoadingEnabled=true|falseã€‚</p><p>å»¶è¿ŸåŠ è½½çš„åŸºæœ¬åŸç†æ˜¯ï¼Œä½¿ç”¨CGLIBåˆ›å»ºç›®æ ‡å¯¹è±¡çš„ä»£ç†å¯¹è±¡ï¼Œå½“è°ƒç”¨ç›®æ ‡æ–¹æ³•æ—¶ï¼Œè¿›å…¥æ‹¦æˆªå™¨æ–¹æ³•ï¼Œæ¯”å¦‚è°ƒç”¨a.getB().getName()ï¼Œæ‹¦æˆªå™¨invoke()æ–¹æ³•å‘ç°a.getB()æ˜¯nullå€¼ï¼Œé‚£ä¹ˆå°±ä¼šå•ç‹¬å‘é€äº‹å…ˆä¿å­˜å¥½çš„æŸ¥è¯¢å…³è”Bå¯¹è±¡çš„sqlï¼ŒæŠŠBæŸ¥è¯¢ä¸Šæ¥ï¼Œç„¶åè°ƒç”¨a.setB(b)ï¼Œäºæ˜¯açš„å¯¹è±¡bå±æ€§å°±æœ‰å€¼äº†ï¼Œæ¥ç€å®Œæˆa.getB().getName()æ–¹æ³•çš„è°ƒç”¨ã€‚</p><p>å½“ç„¶äº†ï¼Œä¸å…‰æ˜¯MyBatisï¼Œå‡ ä¹æ‰€æœ‰çš„åŒ…æ‹¬Hibernateï¼Œæ”¯æŒå»¶è¿ŸåŠ è½½çš„åŸç†éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><h4 id="mybatis-ä¸­ä¸€çº§ç¼“å­˜ä¸äºŒçº§ç¼“å­˜çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#mybatis-ä¸­ä¸€çº§ç¼“å­˜ä¸äºŒçº§ç¼“å­˜çš„åŒºåˆ«" aria-hidden="true">#</a> MyBatis ä¸­ä¸€çº§ç¼“å­˜ä¸äºŒçº§ç¼“å­˜çš„åŒºåˆ«ï¼Ÿ</h4><p>ç¼“å­˜ï¼šåˆç†ä½¿ç”¨ç¼“å­˜æ˜¯ä¼˜åŒ–ä¸­æœ€å¸¸è§çš„æ–¹æ³•ä¹‹ä¸€ï¼Œå°†ä»æ•°æ®åº“ä¸­æŸ¥è¯¢å‡ºæ¥çš„æ•°æ®æ”¾å…¥ç¼“å­˜ä¸­ï¼Œä¸‹æ¬¡ä½¿ç”¨æ—¶ä¸å¿…ä»æ•°æ®åº“æŸ¥è¯¢ï¼Œè€Œæ˜¯ç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–ï¼Œé¿å…é¢‘ç¹æ“ä½œæ•°æ®åº“ï¼Œå‡è½»æ•°æ®åº“çš„å‹åŠ›ï¼ŒåŒæ—¶æé«˜ç³»ç»Ÿæ€§èƒ½ã€‚</p><ul><li>ä¸€çº§ç¼“å­˜æ˜¯SqlSessionçº§åˆ«çš„ç¼“å­˜ï¼š MyBatiså¯¹ç¼“å­˜æä¾›æ”¯æŒï¼Œä½†æ˜¯åœ¨æ²¡æœ‰é…ç½®çš„é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒåªå¼€å¯ä¸€çº§ç¼“å­˜ã€‚ä¸€çº§ç¼“å­˜åœ¨æ“ä½œæ•°æ®åº“æ—¶éœ€è¦æ„é€ sqlSessionå¯¹è±¡ï¼Œåœ¨å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªæ•°æ®ç»“æ„ç”¨äºå­˜å‚¨ç¼“å­˜æ•°æ®ã€‚ä¸åŒçš„sqlSessionä¹‹é—´çš„ç¼“å­˜æ•°æ®åŒºåŸŸæ˜¯äº’ç›¸ä¸å½±å“çš„ã€‚ä¹Ÿå°±æ˜¯ä»–åªèƒ½ä½œç”¨åœ¨åŒä¸€ä¸ªsqlSessionä¸­ï¼Œä¸åŒçš„sqlSessionä¸­çš„ç¼“å­˜æ˜¯äº’ç›¸ä¸èƒ½è¯»å–çš„ã€‚ <img src="https://img-blog.csdnimg.cn/img_convert/18f430bfee0f8d104ef27628798d847f.webp?x-oss-process=image/format,png" alt="img"></li><li>äºŒçº§ç¼“å­˜æ˜¯mapperçº§åˆ«çš„ç¼“å­˜ï¼š MyBatisçš„äºŒçº§ç¼“å­˜æ˜¯mapperçº§åˆ«çš„ç¼“å­˜ï¼Œå®ƒå¯ä»¥æé«˜å¯¹æ•°æ®åº“æŸ¥è¯¢çš„æ•ˆç‡ï¼Œä»¥æé«˜åº”ç”¨çš„æ€§èƒ½ã€‚å¤šä¸ªSqlSessionå»æ“ä½œåŒä¸€ä¸ªMapperçš„sqlè¯­å¥ï¼Œå¤šä¸ªSqlSessionå¯ä»¥å…±ç”¨äºŒçº§ç¼“å­˜ï¼ŒäºŒçº§ç¼“å­˜æ˜¯è·¨SqlSessionçš„ã€‚ <img src="https://img-blog.csdnimg.cn/img_convert/f2d4284b5c418a3038d84f4f00750c97.webp?x-oss-process=image/format,png" alt="img"></li></ul><p>å¼€å¯äºŒçº§ç¼“å­˜:</p><ol><li><p>mybatis.xmlé…ç½®æ–‡ä»¶ä¸­åŠ å…¥ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;settings&gt;    
   &lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot;/&gt;    
&lt;/settings&gt;
123
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>åœ¨éœ€è¦å¼€å¯äºŒçº§ç¼“å­˜çš„mapper.xmlä¸­åŠ å…¥cacehæ ‡ç­¾</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;cache/&gt;
1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>è®©ä½¿ç”¨äºŒçº§ç¼“å­˜çš„POJOç±»å®ç°Serializableæ¥å£</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>public class User implements Serializable {} 
1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h4 id="mybatisæ˜¯å¦‚ä½•å°†sqlæ‰§è¡Œç»“æœå°è£…ä¸ºç›®æ ‡å¯¹è±¡å¹¶è¿”å›çš„-éƒ½æœ‰å“ªäº›æ˜ å°„å½¢å¼" tabindex="-1"><a class="header-anchor" href="#mybatisæ˜¯å¦‚ä½•å°†sqlæ‰§è¡Œç»“æœå°è£…ä¸ºç›®æ ‡å¯¹è±¡å¹¶è¿”å›çš„-éƒ½æœ‰å“ªäº›æ˜ å°„å½¢å¼" aria-hidden="true">#</a> MyBatisæ˜¯å¦‚ä½•å°†sqlæ‰§è¡Œç»“æœå°è£…ä¸ºç›®æ ‡å¯¹è±¡å¹¶è¿”å›çš„ï¼Ÿéƒ½æœ‰å“ªäº›æ˜ å°„å½¢å¼ï¼Ÿ</h4><ul><li><strong>ç¬¬ä¸€ç§</strong>æ˜¯ä½¿ç”¨æ ‡ç­¾ï¼Œé€ä¸€å®šä¹‰æ•°æ®åº“åˆ—åå’Œå¯¹è±¡å±æ€§åä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚</li><li><strong>ç¬¬äºŒç§</strong>æ˜¯ä½¿ç”¨sqlåˆ—çš„åˆ«ååŠŸèƒ½ï¼Œå°†åˆ—çš„åˆ«åä¹¦å†™ä¸ºå¯¹è±¡å±æ€§åã€‚</li><li>æœ‰äº†åˆ—åä¸å±æ€§åçš„æ˜ å°„å…³ç³»åï¼ŒMyBatisé€šè¿‡åå°„åˆ›å»ºå¯¹è±¡ï¼ŒåŒæ—¶ä½¿ç”¨åå°„ç»™å¯¹è±¡çš„å±æ€§é€ä¸€èµ‹å€¼å¹¶è¿”å›ï¼Œé‚£äº›æ‰¾ä¸åˆ°æ˜ å°„å…³ç³»çš„å±æ€§ï¼Œæ˜¯æ— æ³•å®Œæˆèµ‹å€¼çš„ã€‚</li></ul><h4 id="mybatisåŠ¨æ€sqlæœ‰ä»€ä¹ˆç”¨-æ‰§è¡ŒåŸç†-æœ‰å“ªäº›åŠ¨æ€sql" tabindex="-1"><a class="header-anchor" href="#mybatisåŠ¨æ€sqlæœ‰ä»€ä¹ˆç”¨-æ‰§è¡ŒåŸç†-æœ‰å“ªäº›åŠ¨æ€sql" aria-hidden="true">#</a> MyBatisåŠ¨æ€sqlæœ‰ä»€ä¹ˆç”¨ï¼Ÿæ‰§è¡ŒåŸç†ï¼Ÿæœ‰å“ªäº›åŠ¨æ€sqlï¼Ÿ</h4><p>MyBatisåŠ¨æ€sqlå¯ä»¥åœ¨Xmlæ˜ å°„æ–‡ä»¶å†…ï¼Œä»¥æ ‡ç­¾çš„å½¢å¼ç¼–å†™åŠ¨æ€sqlï¼Œæ‰§è¡ŒåŸç†æ˜¯æ ¹æ®è¡¨è¾¾å¼çš„å€¼ å®Œæˆé€»è¾‘åˆ¤æ–­ å¹¶åŠ¨æ€æ‹¼æ¥sqlçš„åŠŸèƒ½ã€‚</p><p>MyBatisæä¾›äº†9ç§åŠ¨æ€sqlæ ‡ç­¾ï¼š<code>trim</code> | <code>where</code> | <code>set</code> | <code>foreach</code> | <code>if</code> | <code>choose</code> | <code>when</code> | <code>otherwise</code> | <code>bind</code>ã€‚</p><h4 id="xmlæ˜ å°„æ–‡ä»¶ä¸­-é™¤äº†å¸¸è§çš„select-insert-updae-deleteæ ‡ç­¾ä¹‹å¤–-è¿˜æœ‰å“ªäº›æ ‡ç­¾" tabindex="-1"><a class="header-anchor" href="#xmlæ˜ å°„æ–‡ä»¶ä¸­-é™¤äº†å¸¸è§çš„select-insert-updae-deleteæ ‡ç­¾ä¹‹å¤–-è¿˜æœ‰å“ªäº›æ ‡ç­¾" aria-hidden="true">#</a> Xmlæ˜ å°„æ–‡ä»¶ä¸­ï¼Œé™¤äº†å¸¸è§çš„select | insert | updae | deleteæ ‡ç­¾ä¹‹å¤–ï¼Œè¿˜æœ‰å“ªäº›æ ‡ç­¾ï¼Ÿ</h4><p>&lt; resultMap &gt;ã€&lt; parameterMap &gt;ã€&lt; sql &gt;ã€&lt; include &gt;ã€&lt; selectKey &gt;ï¼ŒåŠ ä¸ŠåŠ¨æ€sqlçš„9ä¸ªæ ‡ç­¾ï¼Œå…¶ä¸­&lt; sql &gt;ä¸ºsqlç‰‡æ®µæ ‡ç­¾ï¼Œé€šè¿‡&lt; include &gt;æ ‡ç­¾å¼•å…¥sqlç‰‡æ®µï¼Œ&lt; selectKey &gt;ä¸ºä¸æ”¯æŒè‡ªå¢çš„ä¸»é”®ç”Ÿæˆç­–ç•¥æ ‡ç­¾ã€‚</p><h4 id="ä½¿ç”¨mybatisçš„mapperæ¥å£è°ƒç”¨æ—¶æœ‰å“ªäº›è¦æ±‚" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨mybatisçš„mapperæ¥å£è°ƒç”¨æ—¶æœ‰å“ªäº›è¦æ±‚" aria-hidden="true">#</a> ä½¿ç”¨MyBatisçš„mapperæ¥å£è°ƒç”¨æ—¶æœ‰å“ªäº›è¦æ±‚ï¼Ÿ</h4><ul><li>Mapperæ¥å£æ–¹æ³•åå’Œmapper.xmlä¸­å®šä¹‰çš„æ¯ä¸ªsqlçš„idç›¸åŒï¼›</li><li>Mapperæ¥å£æ–¹æ³•çš„è¾“å…¥å‚æ•°ç±»å‹å’Œmapper.xmlä¸­å®šä¹‰çš„æ¯ä¸ªsql çš„parameterTypeçš„ç±»å‹ç›¸åŒï¼›</li><li>Mapperæ¥å£æ–¹æ³•çš„è¾“å‡ºå‚æ•°ç±»å‹å’Œmapper.xmlä¸­å®šä¹‰çš„æ¯ä¸ªsqlçš„resultTypeçš„ç±»å‹ç›¸åŒï¼›</li><li>Mapper.xmlæ–‡ä»¶ä¸­çš„namespaceå³æ˜¯mapperæ¥å£çš„ç±»è·¯å¾„ã€‚</li></ul><h4 id="æ¨¡ç³ŠæŸ¥è¯¢likeè¯­å¥è¯¥æ€ä¹ˆå†™" tabindex="-1"><a class="header-anchor" href="#æ¨¡ç³ŠæŸ¥è¯¢likeè¯­å¥è¯¥æ€ä¹ˆå†™" aria-hidden="true">#</a> æ¨¡ç³ŠæŸ¥è¯¢likeè¯­å¥è¯¥æ€ä¹ˆå†™?</h4><ul><li><p>ç¬¬1ç§ï¼šåœ¨Javaä»£ç ä¸­æ·»åŠ sqlé€šé…ç¬¦ã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// è¿™é‡Œæ˜¯javaä»£ç 
string wildcardname = &quot;%smi%&quot;;
list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span> names = mapper.selectlike(wildcardname);
//è¿™é‡Œæ˜¯xmlé…ç½® 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectlike<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from foo where bar like #{value}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
1234567
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ç¬¬2ç§ï¼šåœ¨sqlè¯­å¥ä¸­æ‹¼æ¥é€šé…ç¬¦ï¼Œä¼šå¼•èµ·sqlæ³¨å…¥</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// è¿™é‡Œæ˜¯javaä»£ç 
string wildcardname = &quot;smi&quot;;
list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span> names = mapper.selectlike(wildcardname);
//è¿™é‡Œæ˜¯xmlé…ç½® 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>â€selectlikeâ€</span><span class="token punctuation">&gt;</span></span>
  select * from foo where bar like &quot;%&quot;${value}&quot;%&quot;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
1234567
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="å½“å®ä½“ç±»ä¸­çš„å±æ€§åå’Œè¡¨ä¸­çš„å­—æ®µåä¸ä¸€æ ·-æ€ä¹ˆåŠ" tabindex="-1"><a class="header-anchor" href="#å½“å®ä½“ç±»ä¸­çš„å±æ€§åå’Œè¡¨ä¸­çš„å­—æ®µåä¸ä¸€æ ·-æ€ä¹ˆåŠ" aria-hidden="true">#</a> å½“å®ä½“ç±»ä¸­çš„å±æ€§åå’Œè¡¨ä¸­çš„å­—æ®µåä¸ä¸€æ · ï¼Œæ€ä¹ˆåŠ ï¼Ÿ</h4><ul><li><p>ç¬¬1ç§ï¼š é€šè¿‡åœ¨æŸ¥è¯¢çš„sqlè¯­å¥ä¸­å®šä¹‰å­—æ®µåçš„åˆ«åï¼Œè®©å­—æ®µåçš„åˆ«åå’Œå®ä½“ç±»çš„å±æ€§åä¸€è‡´ã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>â€selectorderâ€</span> <span class="token attr-name">parametertype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>â€intâ€</span> <span class="token attr-name">resultetype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>â€me.gacl.domain.orderâ€</span><span class="token punctuation">&gt;</span></span>
  select order_id id, order_no orderno ,order_price price form orders where order_id=#{id};
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
123
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ç¬¬2ç§ï¼š é€šè¿‡&lt; resultMap &gt;æ¥æ˜ å°„å­—æ®µåå’Œå®ä½“ç±»å±æ€§åçš„ä¸€ä¸€å¯¹åº”çš„å…³ç³»ã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getOrder<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orderresultmap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 select * from orders where order_id=#{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>â€me.gacl.domain.orderâ€</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>â€orderresultmapâ€</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!â€“ç”¨idå±æ€§æ¥æ˜ å°„ä¸»é”®å­—æ®µâ€“</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>â€idâ€</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>â€order_idâ€</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!â€“ç”¨resultå±æ€§æ¥æ˜ å°„éä¸»é”®å­—æ®µï¼Œpropertyä¸ºå®ä½“ç±»å±æ€§åï¼Œcolumnä¸ºæ•°æ®è¡¨ä¸­çš„å±æ€§â€“</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> â€œordernoâ€</span> <span class="token attr-name">column</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span>â€order_noâ€/</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>â€priceâ€</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>â€order_priceâ€</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>reslutMap</span><span class="token punctuation">&gt;</span></span>
12345678910
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="å¦‚ä½•è·å–è‡ªåŠ¨ç”Ÿæˆçš„-ä¸»-é”®å€¼" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•è·å–è‡ªåŠ¨ç”Ÿæˆçš„-ä¸»-é”®å€¼" aria-hidden="true">#</a> å¦‚ä½•è·å–è‡ªåŠ¨ç”Ÿæˆçš„(ä¸»)é”®å€¼?</h4><p>insert æ–¹æ³•æ€»æ˜¯è¿”å›ä¸€ä¸ªintå€¼ ï¼Œè¿™ä¸ªå€¼ä»£è¡¨çš„æ˜¯æ’å…¥çš„è¡Œæ•°ã€‚</p><p>å¦‚æœé‡‡ç”¨è‡ªå¢é•¿ç­–ç•¥ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„é”®å€¼åœ¨ insert æ–¹æ³•æ‰§è¡Œå®Œåå¯ä»¥è¢«è®¾ç½®åˆ°ä¼ å…¥çš„å‚æ•°å¯¹è±¡ä¸­ã€‚ éœ€è¦åœ¨xmlä¸­é…ç½®ä¸Šusegeneratedkeyså’Œkeypropertyå±æ€§</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// ä»¥ä¸‹æ˜¯xmlé…ç½®
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertname<span class="token punctuation">&quot;</span></span> <span class="token attr-name">usegeneratedkeys</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">keyproperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  insert into names (name) values (#{name})
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>
// ä»¥ä¸‹æ˜¯javaä»£ç 
name name = new name();
name.setname(â€œfredâ€);
int rows = mapper.insertname(name);
// å®Œæˆå,idå·²ç»è¢«è®¾ç½®åˆ°å¯¹è±¡ä¸­
system.out.println(&quot;rows inserted = &quot; + rows);
system.out.println(&quot;generated key value = &quot; + name.getid());
1234567891011
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åœ¨mapperä¸­å¦‚ä½•ä¼ é€’å¤šä¸ªå‚æ•°" tabindex="-1"><a class="header-anchor" href="#åœ¨mapperä¸­å¦‚ä½•ä¼ é€’å¤šä¸ªå‚æ•°" aria-hidden="true">#</a> åœ¨mapperä¸­å¦‚ä½•ä¼ é€’å¤šä¸ªå‚æ•°?</h4><ul><li><p>ç¬¬ä¸€ç§ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//DAOå±‚çš„å‡½æ•°</span>
<span class="token class-name">Public</span> <span class="token class-name">UserselectUser</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token class-name">String</span> area<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">//å¯¹åº”çš„xml,#{0}ä»£è¡¨æ¥æ”¶çš„æ˜¯daoå±‚ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ#{1}ä»£è¡¨daoå±‚ä¸­ç¬¬äºŒå‚æ•°ï¼Œæ›´å¤šå‚æ•°ä¸€è‡´å¾€ååŠ å³å¯ã€‚</span>
<span class="token operator">&lt;</span>select id<span class="token operator">=</span><span class="token string">&quot;selectUser&quot;</span>resultMap<span class="token operator">=</span><span class="token string">&quot;BaseResultMap&quot;</span><span class="token operator">&gt;</span>  
  select <span class="token operator">*</span>  fromuser_user_t   whereuser_name <span class="token operator">=</span> #<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> anduser_area<span class="token operator">=</span>#<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span>  
<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>  
<span class="token number">123456</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ç¬¬äºŒç§ï¼š ä½¿ç”¨ @param æ³¨è§£:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> usermapper <span class="token punctuation">{</span>
  user <span class="token function">selectuser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@param</span><span class="token punctuation">(</span>â€œusernameâ€<span class="token punctuation">)</span> string username<span class="token punctuation">,</span><span class="token annotation punctuation">@param</span><span class="token punctuation">(</span>â€œhashedpasswordâ€<span class="token punctuation">)</span> string hashedpassword<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
ç„¶å<span class="token punctuation">,</span>å°±å¯ä»¥åœ¨xmlåƒä¸‹é¢è¿™æ ·ä½¿ç”¨<span class="token punctuation">(</span>æ¨èå°è£…ä¸ºä¸€ä¸ªmap<span class="token punctuation">,</span>ä½œä¸ºå•ä¸ªå‚æ•°ä¼ é€’ç»™mapper<span class="token punctuation">)</span><span class="token operator">:</span>
<span class="token operator">&lt;</span>select id<span class="token operator">=</span>â€selectuserâ€ resulttype<span class="token operator">=</span>â€userâ€<span class="token operator">&gt;</span>
  select id<span class="token punctuation">,</span> username<span class="token punctuation">,</span> hashedpassword
  from some_table
  where username <span class="token operator">=</span> #<span class="token punctuation">{</span>username<span class="token punctuation">}</span>
  and hashedpassword <span class="token operator">=</span> #<span class="token punctuation">{</span>hashedpassword<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
<span class="token number">12345678910</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ç¬¬ä¸‰ç§ï¼šå¤šä¸ªå‚æ•°å°è£…æˆmap</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">try</span><span class="token punctuation">{</span>
  <span class="token comment">//æ˜ å°„æ–‡ä»¶çš„å‘½åç©ºé—´.SQLç‰‡æ®µçš„IDï¼Œå°±å¯ä»¥è°ƒç”¨å¯¹åº”çš„æ˜ å°„æ–‡ä»¶ä¸­çš„SQL</span>
  <span class="token comment">//ç”±äºæˆ‘ä»¬çš„å‚æ•°è¶…è¿‡äº†ä¸¤ä¸ªï¼Œè€Œæ–¹æ³•ä¸­åªæœ‰ä¸€ä¸ªObjectå‚æ•°æ”¶é›†ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨Mapé›†åˆæ¥è£…è½½æˆ‘ä»¬çš„å‚æ•°</span>
  <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span>
  map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;end&quot;</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> sqlSession<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span><span class="token string">&quot;StudentID.pagination&quot;</span><span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  sqlSession<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">throw</span> e<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token keyword">finally</span><span class="token punctuation">{</span>
  <span class="token class-name">MybatisUtil</span><span class="token punctuation">.</span><span class="token function">closeSqlSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token number">123456789101112131415</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šçš„å…³è”æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šçš„å…³è”æŸ¥è¯¢" aria-hidden="true">#</a> ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šçš„å…³è”æŸ¥è¯¢ ï¼Ÿ</h4><ul><li><p>ä¸€å¯¹ä¸€å…³è”æŸ¥è¯¢</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.lcb.mapping.userMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getClass<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ClassesResultMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
    select * from class c,teacher t where c.teacher_id=t.t_id and c.c_id=#{id}  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.lcb.user.Classes<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ClassesResultMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
    <span class="token comment">&lt;!-- å®ä½“ç±»çš„å­—æ®µåå’Œæ•°æ®è¡¨çš„å­—æ®µåæ˜ å°„ --&gt;</span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c_id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>teacher<span class="token punctuation">&quot;</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.lcb.user.Teacher<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>t_id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>t_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>association</span><span class="token punctuation">&gt;</span></span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span> 
1234567891011121314
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä¸€å¯¹å¤šå…³è”æŸ¥è¯¢</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.lcb.mapping.userMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
  <span class="token comment">&lt;!--collection  ä¸€å¯¹å¤šå…³è”æŸ¥è¯¢ --&gt;</span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getClass2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ClassesResultMap2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
    select * from class c,teacher t,student s where c.teacher_id=t.t_id and c.c_id=s.class_id and c.c_id=#{id}  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.lcb.user.Classes<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ClassesResultMap2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c_id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>teacher<span class="token punctuation">&quot;</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.lcb.user.Teacher<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>t_id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>t_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>association</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>student<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ofType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.lcb.user.Student<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>s_id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>s_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">&gt;</span></span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span> 
123456789101112131415161718
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="mybatiså®ç°ä¸€å¯¹ä¸€æœ‰å‡ ç§æ–¹å¼-å…·ä½“æ€ä¹ˆæ“ä½œçš„" tabindex="-1"><a class="header-anchor" href="#mybatiså®ç°ä¸€å¯¹ä¸€æœ‰å‡ ç§æ–¹å¼-å…·ä½“æ€ä¹ˆæ“ä½œçš„" aria-hidden="true">#</a> MyBatiså®ç°ä¸€å¯¹ä¸€æœ‰å‡ ç§æ–¹å¼?å…·ä½“æ€ä¹ˆæ“ä½œçš„ï¼Ÿ</h4><p>æœ‰è”åˆæŸ¥è¯¢å’ŒåµŒå¥—æŸ¥è¯¢,è”åˆæŸ¥è¯¢æ˜¯å‡ ä¸ªè¡¨è”åˆæŸ¥è¯¢,åªæŸ¥è¯¢ä¸€æ¬¡, é€šè¿‡åœ¨resultMapé‡Œé¢é…ç½®associationèŠ‚ç‚¹é…ç½®ä¸€å¯¹ä¸€çš„ç±»å°±å¯ä»¥å®Œæˆï¼›</p><p>åµŒå¥—æŸ¥è¯¢æ˜¯å…ˆæŸ¥ä¸€ä¸ªè¡¨ï¼Œæ ¹æ®è¿™ä¸ªè¡¨é‡Œé¢çš„ç»“æœçš„ å¤–é”®idï¼Œå»å†å¦å¤–ä¸€ä¸ªè¡¨é‡Œé¢æŸ¥è¯¢æ•°æ®,ä¹Ÿæ˜¯é€šè¿‡associationé…ç½®ï¼Œä½†å¦å¤–ä¸€ä¸ªè¡¨çš„æŸ¥è¯¢é€šè¿‡selectå±æ€§é…ç½®ã€‚</p><h4 id="mybatiså®ç°ä¸€å¯¹å¤šæœ‰å‡ ç§æ–¹å¼-æ€ä¹ˆæ“ä½œçš„" tabindex="-1"><a class="header-anchor" href="#mybatiså®ç°ä¸€å¯¹å¤šæœ‰å‡ ç§æ–¹å¼-æ€ä¹ˆæ“ä½œçš„" aria-hidden="true">#</a> MyBatiså®ç°ä¸€å¯¹å¤šæœ‰å‡ ç§æ–¹å¼,æ€ä¹ˆæ“ä½œçš„ï¼Ÿ</h4><p>æœ‰<code>è”åˆæŸ¥è¯¢</code>å’Œ<code>åµŒå¥—æŸ¥è¯¢</code>ã€‚</p><p><strong>è”åˆæŸ¥è¯¢</strong>æ˜¯å‡ ä¸ªè¡¨è”åˆæŸ¥è¯¢,åªæŸ¥è¯¢ä¸€æ¬¡,é€šè¿‡åœ¨resultMapé‡Œé¢çš„collectionèŠ‚ç‚¹é…ç½®ä¸€å¯¹å¤šçš„ç±»å°±å¯ä»¥å®Œæˆï¼›</p><p><strong>åµŒå¥—æŸ¥è¯¢</strong>æ˜¯å…ˆæŸ¥ä¸€ä¸ªè¡¨,æ ¹æ®è¿™ä¸ªè¡¨é‡Œé¢çš„ ç»“æœçš„å¤–é”®id,å»å†å¦å¤–ä¸€ä¸ªè¡¨é‡Œé¢æŸ¥è¯¢æ•°æ®,ä¹Ÿæ˜¯é€šè¿‡é…ç½®collection,ä½†å¦å¤–ä¸€ä¸ªè¡¨çš„æŸ¥è¯¢é€šè¿‡selectèŠ‚ç‚¹é…ç½®ã€‚</p><h4 id="mapperç¼–å†™æœ‰å“ªå‡ ç§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#mapperç¼–å†™æœ‰å“ªå‡ ç§æ–¹å¼" aria-hidden="true">#</a> Mapperç¼–å†™æœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿ</h4><ul><li><p><strong>ç¬¬ä¸€ç§ï¼šæ¥å£å®ç°ç±»ç»§æ‰¿SqlSessionDaoSupport</strong>ï¼›ä½¿ç”¨æ­¤ç§æ–¹æ³•éœ€è¦ç¼–å†™mapperæ¥å£ï¼Œmapperæ¥å£å®ç°ç±»ã€mapper.xmlæ–‡ä»¶ã€‚</p><ol><li><p>åœ¨sqlMapConfig.xmlä¸­é…ç½®mapper.xmlçš„ä½ç½®</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> &lt;mappers&gt;
   &lt;mapper resource=&quot;mapper.xmlæ–‡ä»¶çš„åœ°å€&quot; /&gt;
   &lt;mapper resource=&quot;mapper.xmlæ–‡ä»¶çš„åœ°å€&quot; /&gt;
 &lt;/mappers&gt;
1234
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å®šä¹‰mapperæ¥å£</p></li><li><p>å®ç°ç±»é›†æˆSqlSessionDaoSupport mapperæ–¹æ³•ä¸­å¯ä»¥this.getSqlSession()è¿›è¡Œæ•°æ®å¢åˆ æ”¹æŸ¥ã€‚</p></li><li><p>spring é…ç½®</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;bean id=&quot; &quot; class=&quot;mapperæ¥å£çš„å®ç°&quot;&gt;
   &lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot;&gt;&lt;/property&gt;
&lt;/bean&gt; 
123
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol></li><li><p><strong>ç¬¬äºŒç§ï¼šä½¿ç”¨org.mybatis.spring.mapper.MapperFactoryBeanï¼š</strong></p><ol><li><p>åœ¨sqlMapConfig.xmlä¸­é…ç½®mapper.xmlçš„ä½ç½®ï¼Œå¦‚æœmapper.xmlå’Œmappreæ¥å£çš„åç§°ç›¸åŒä¸”åœ¨åŒä¸€ä¸ªç›®å½•ï¼Œè¿™é‡Œå¯ä»¥ä¸ç”¨é…ç½®</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> &lt;mappers&gt;
   &lt;mapper resource=&quot;mapper.xmlæ–‡ä»¶çš„åœ°å€&quot; /&gt;
   &lt;mapper resource=&quot;mapper.xmlæ–‡ä»¶çš„åœ°å€&quot; /&gt;
 &lt;/mappers&gt;
1234
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å®šä¹‰mapperæ¥å£ï¼š</p><ul><li><p>mapper.xmlä¸­çš„namespaceä¸ºmapperæ¥å£çš„åœ°å€</p></li><li><p>mapperæ¥å£ä¸­çš„æ–¹æ³•åå’Œmapper.xmlä¸­çš„å®šä¹‰çš„statementçš„idä¿æŒä¸€è‡´</p></li><li><p>Springä¸­å®šä¹‰</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;bean id=&quot;&quot; class=&quot;org.mybatis.spring.mapper.MapperFactoryBean&quot;&gt;
  &lt;property name=&quot;mapperInterface&quot;  value=&quot;mapperæ¥å£åœ°å€&quot; /&gt; 
  &lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot; /&gt;
&lt;/bean&gt;
1234
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ol></li><li><p><strong>ç¬¬ä¸‰ç§ï¼šä½¿ç”¨mapperæ‰«æå™¨ï¼š</strong></p><ol><li><p>mapper.xmlæ–‡ä»¶ç¼–å†™ï¼š mapper.xmlä¸­çš„namespaceä¸ºmapperæ¥å£çš„åœ°å€ï¼› mapperæ¥å£ä¸­çš„æ–¹æ³•åå’Œmapper.xmlä¸­çš„å®šä¹‰çš„statementçš„idä¿æŒä¸€è‡´ï¼› å¦‚æœå°†mapper.xmlå’Œmapperæ¥å£çš„åç§°ä¿æŒä¸€è‡´åˆ™ä¸ç”¨åœ¨sqlMapConfig.xmlä¸­è¿›è¡Œé…ç½®ã€‚</p></li><li><p>å®šä¹‰mapperæ¥å£ï¼š æ³¨æ„mapper.xmlçš„æ–‡ä»¶åå’Œmapperçš„æ¥å£åç§°ä¿æŒä¸€è‡´ï¼Œä¸”æ”¾åœ¨åŒä¸€ä¸ªç›®å½•</p></li><li><p>é…ç½®mapperæ‰«æå™¨ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
   &lt;property name=&quot;basePackage&quot; value=&quot;mapperæ¥å£åŒ…åœ°å€&quot;&gt;&lt;/property&gt;
   &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot;/&gt; 
 &lt;/bean&gt;
1234
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä½¿ç”¨æ‰«æå™¨åä»springå®¹å™¨ä¸­è·å–mapperçš„å®ç°å¯¹è±¡ã€‚</p></li></ol></li></ul><h4 id="ä»€ä¹ˆæ˜¯mybatisçš„æ¥å£ç»‘å®š-æœ‰å“ªäº›å®ç°æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯mybatisçš„æ¥å£ç»‘å®š-æœ‰å“ªäº›å®ç°æ–¹å¼" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯MyBatisçš„æ¥å£ç»‘å®šï¼Ÿæœ‰å“ªäº›å®ç°æ–¹å¼ï¼Ÿ</h4><p><strong>æ¥å£ç»‘å®š</strong>ï¼Œå°±æ˜¯åœ¨MyBatisä¸­ä»»æ„å®šä¹‰æ¥å£,ç„¶åæŠŠæ¥å£é‡Œé¢çš„æ–¹æ³•å’ŒSQLè¯­å¥ç»‘å®š, æˆ‘ä»¬ç›´æ¥è°ƒç”¨æ¥å£æ–¹æ³•å°±å¯ä»¥,è¿™æ ·æ¯”èµ·åŸæ¥äº†SqlSessionæä¾›çš„æ–¹æ³•æˆ‘ä»¬å¯ä»¥æœ‰æ›´åŠ çµæ´»çš„é€‰æ‹©å’Œè®¾ç½®ã€‚</p><p>æ¥å£ç»‘å®šæœ‰ä¸¤ç§å®ç°æ–¹å¼:</p><p>date: 2022-10-02 18:50:29</p><ul><li>å¦å¤–ä¸€ç§å°±æ˜¯é€šè¿‡xmlé‡Œé¢å†™SQLæ¥ç»‘å®š, åœ¨è¿™ç§æƒ…å†µä¸‹,è¦æŒ‡å®šxmlæ˜ å°„æ–‡ä»¶é‡Œé¢çš„namespaceå¿…é¡»ä¸ºæ¥å£çš„å…¨è·¯å¾„åã€‚å½“Sqlè¯­å¥æ¯”è¾ƒç®€å•æ—¶å€™,ç”¨æ³¨è§£ç»‘å®š, å½“SQLè¯­å¥æ¯”è¾ƒå¤æ‚æ—¶å€™,ç”¨xmlç»‘å®š,ä¸€èˆ¬ç”¨xmlç»‘å®šçš„æ¯”è¾ƒå¤šã€‚</li></ul><h4 id="mybatisä¸hibernateæœ‰å“ªäº›ä¸åŒ" tabindex="-1"><a class="header-anchor" href="#mybatisä¸hibernateæœ‰å“ªäº›ä¸åŒ" aria-hidden="true">#</a> MyBatisä¸Hibernateæœ‰å“ªäº›ä¸åŒï¼Ÿ</h4><ol><li>MyBatiså’Œhibernateä¸åŒï¼Œå®ƒä¸å®Œå…¨æ˜¯ä¸€ä¸ªORMæ¡†æ¶ï¼Œå› ä¸ºMyBatiséœ€è¦ç¨‹åºå‘˜è‡ªå·±ç¼–å†™Sqlè¯­å¥;</li><li>MyBatisç›´æ¥ç¼–å†™åŸç”Ÿæ€sqlï¼Œå¯ä»¥ä¸¥æ ¼æ§åˆ¶sqlæ‰§è¡Œæ€§èƒ½ï¼Œçµæ´»åº¦é«˜ï¼Œéå¸¸é€‚åˆå¯¹å…³ç³»æ•°æ®æ¨¡å‹è¦æ±‚ä¸é«˜çš„è½¯ä»¶å¼€å‘ï¼Œå› ä¸ºè¿™ç±»è½¯ä»¶éœ€æ±‚å˜åŒ–é¢‘ç¹ï¼Œä¸€ä½†éœ€æ±‚å˜åŒ–è¦æ±‚è¿…é€Ÿè¾“å‡ºæˆæœã€‚ä½†æ˜¯çµæ´»çš„å‰ææ˜¯MyBatisæ— æ³•åšåˆ°æ•°æ®åº“æ— å…³æ€§ï¼Œå¦‚æœéœ€è¦å®ç°æ”¯æŒå¤šç§æ•°æ®åº“çš„è½¯ä»¶ï¼Œåˆ™éœ€è¦è‡ªå®šä¹‰å¤šå¥—sqlæ˜ å°„æ–‡ä»¶ï¼Œå·¥ä½œé‡å¤§;</li><li>Hibernateå¯¹è±¡/å…³ç³»æ˜ å°„èƒ½åŠ›å¼ºï¼Œæ•°æ®åº“æ— å…³æ€§å¥½ï¼Œå¯¹äºå…³ç³»æ¨¡å‹è¦æ±‚é«˜çš„è½¯ä»¶ï¼Œå¦‚æœç”¨hibernateå¼€å‘å¯ä»¥èŠ‚çœå¾ˆå¤šä»£ç ï¼Œæé«˜æ•ˆç‡ã€‚</li></ol></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 498420540@qq.com">yue</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/interview/FRAMEWORK/SpringCloud.html" class="nav-link prev" aria-label="SpringCloud"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->SpringCloud</div></a><a href="/interview/FRAMEWORK/Dubbo.html" class="nav-link next" aria-label="Dubbo"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">Dubbo<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">Default footer</div><div class="copyright">Copyright Â© 2022 Mr.yue</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.c4e9f175.js" defer></script>
  </body>
</html>
